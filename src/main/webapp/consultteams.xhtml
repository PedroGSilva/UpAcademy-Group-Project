<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<ui:composition template="/template/commonLayout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">


	<ui:define name="content">
		<div class="title">
			<h3>Teams list</h3>
		</div>

		<h:form id="form">
			<p:dataTable var="team" value="#{teamBean.teamService.consultTeam()}">
				<p:column headerText="Id">
					<h:outputText value="#{team.ID}" />
				</p:column>

				<p:column headerText="Team name">
					<h:outputText value="#{team.teamName}" />
				</p:column>

				<p:column headerText="Team professionals">
					<h:outputText value="#{team.profNames}" />
				</p:column>

				<p:column headerText="Team priority level">
					<h:outputText value="#{team.teamPriority}" />
				</p:column>

				<p:column headerText="Team room">
					<h:outputText value="#{team.teamRoom}" />
				</p:column>

				<p:column headerText="Edit / Remove">
					<p:commandButton icon="ui-icon-pencil" type="button" onclick="PF('editdlg').show();" update=":form:teamDetail">
						<f:setPropertyActionListener value="#{team}" target="#{teamBean.selectedTeam}" />
					</p:commandButton>
					<p:commandButton icon="ui-icon-trash" 
						action="#{teamBean.teamService.deleteTeam(team.ID, 'createteam')}" />
				</p:column>
			</p:dataTable>

			<p:dialog header="Edit team" widgetVar="editdlg" modal="true"
				height="500">
				<p:outputPanel id="teamDetail">
					<h:panelGrid columns="2" rendered="#{not empty teamBean.selectedTeam}" columnClasses="label,value">
						<h:outputText value="Team name: " />
						<h:outputText value="#{teamBean.selectedTeam.teamName}" />
						<!-- <p:inputText id="teamName" value="#{teamBean.team.teamName}" /> -->

						<h:outputText value="Name of the professionals: " />
						<h:outputText value="#{teamBean.selectedTeam.profNames}" />
						<!-- <p:inputText id="profNames" value="#{teamBean.team.profNames}" /> -->

						<h:outputText value="Team attended priority level: " />
						<h:outputText value="#{teamBean.selectedTeam.teamPriority}" />
						<!-- <p:inputText id="teamPriority"
							value="#{teamBean.team.teamPriority}" /> -->

						<h:outputText value="Team room: " />
						<h:outputText value="#{teamBean.selectedTeam.teamRoom}" />
						<!-- <p:spinner id="teamRoom" value="#{teamBean.team.teamRoom}" min="1"
							stepFactor="1" prefix="room " /> -->

						<!-- <p:commandLink id="createTeamButton" value="Create team"/> -->
					</h:panelGrid>
				</p:outputPanel>
			</p:dialog>
		</h:form>

	</ui:define>


</ui:composition>