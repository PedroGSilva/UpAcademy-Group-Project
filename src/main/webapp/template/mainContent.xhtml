<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"> 

	<!-- <body> -->

	<section id="container"> <!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
	<!--main content start--> <section id="main-content"> <section
		class="wrapper"> <!-- TICKET PANEL -->
	<div class="row mt">

		<div class="col-lg-12">
			<div class="row">

				<p:outputPanel id="callerPanel" styleClass="primefacesfont">

					<div class="col-lg-4 col-md-4 col-sm-4 mb">
						<div class="weather-3 pn centered #{triageHistoricBean.getHistoricPriorityClass()}">
							<i class="fa"></i>
							<h1>Previously Called</h1>
							<div class="info">
								<div class="row">
									<h3 class="centered" style="font-size:35px">
										<p:outputLabel
											value="#{triageHistoricBean.ticketHistory.get(1).priorityL}" />
									</h3>
									<div class="col-sm-6 col-xs-6 pull-left">
										<p class="goleft">
											<i class="fa"></i>
											<p:outputLabel
												value="#{triageHistoricBean.ticketHistory.get(1).patient.name}" />
										</p>
									</div>

									<div class="col-sm-6 col-xs-6 pull-right">
										<p class="goright">
											<i class="fa"></i>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>


					<div class="col-lg-4 col-md-4 col-sm-4 mb">
						<div class="weather-3 pn centered #{triageHistoricBean.getCurrentPriorityClass()}">
							<i class="fa"></i>
							<h1>Now Calling</h1>
							<div class="info">
								<div class="row">
									<h3 class="centered" style="font-size:35px">
										<p:outputLabel
											value="#{triageHistoricBean.ticketHistory.get(1).priorityL}" />
									</h3>
									<div class="col-sm-6 col-xs-6 pull-left">
										<p class="goleft">
											<i class="fa"></i>
											<p:outputLabel
												value="#{triageHistoricBean.nextTickets.get(0).patient.name}" />
										</p>
									</div>
									<div class="col-sm-6 col-xs-6 pull-right">
										<p class="goright">
											<i class="fa"></i>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-4 col-md-4 col-sm-4 mb">
						<div class="weather-3 pn centered #{triageHistoricBean.getNextPriorityClass()}">
							<i class="fa"></i>
							<h1>Next in Line</h1>
							<div class="info">
								<div class="row">
									<h3 class="centered" style="font-size:35px">
										<p:outputLabel
											value="#{triageHistoricBean.nextTickets.get(1).priorityLevel}" />
									</h3>
									<div class="col-sm-6 col-xs-6 pull-left">
										<p class="goleft">
											<i class="fa"></i>
											<p:outputLabel
												value="#{triageHistoricBean.nextTickets.get(1).patient.name}" />
										</p>
									</div>
									<div class="col-sm-6 col-xs-6 pull-right">
										<p class="goright">
											<i class="fa"></i>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</p:outputPanel>
			</div>
		</div>
	</div>

	<div class="row">

		<div class="col-lg-9 main-chart">

			<div class="col-md-4 col-sm-4 col-md-offset-4">

				<p:commandLink styleClass="primefacesfont callButton"
					value="Call Ticket" action="#{triageHistoricBean.callTicket()}"
					update=":callerPanel :nextcounters  :pieChart" />

			

			</div>
			<p:outputPanel id="nextcounters" styleClass="primefacesfont">
				<div class="border-head">
					<h2>Waiting Room</h2>
					<p>
						Total
						<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(5)}" />
						tickets waiting
					</p>
				</div>
				<div class="row mtbox">
					<div class="col-md-2 col-sm-2 col-md-offset-1 box0">
						<div class="box1">
							<img src="assets/img/redticket.png" alt="Red Tickets" />
							<h3>
								<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(0)}" />
							</h3>
						</div>
						<p>
							<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(0)}" />
							Red Tickets waiting.
						</p>
					</div>
					<div class="col-md-2 col-sm-2 box0">
						<div class="box1">
							<img src="assets/img/orangeticket.png" alt="Orange Tickets" />
							<h3>
								<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(1)}" />
							</h3>
						</div>
						<p>
							<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(1)}" />
							Orange Tickets waiting.
						</p>
					</div>
					<div class="col-md-2 col-sm-2 box0">
						<div class="box1">
							<img src="assets/img/yellowticket.png" alt="Yellow Tickets" />
							<h3>
								<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(2)}" />
							</h3>
						</div>
						<p>
							<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(2)}" />
							Yellow Tickets waiting.
						</p>
					</div>
					<div class="col-md-2 col-sm-2 box0">
						<div class="box1">
							<img src="assets/img/greenticket.png" alt="Green Tickets" />
							<h3>
								<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(3)}" />
							</h3>
						</div>
						<p>
							<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(3)}" />
							Green Tickets waiting.
						</p>
					</div>
					<div class="col-md-2 col-sm-2 box0">
						<div class="box1">
							<img src="assets/img/blueticket.png" alt="Blue Tickets" />
							<h3>
								<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(4)}" />
							</h3>
						</div>
						<p>
							<p:outputLabel value="#{triageHistoricBean.waitingRoom.get(4)}" />
							Blue Tickets waiting.
						</p>
					</div>

				</div>
			</p:outputPanel>
			<!-- /row mt -->
			
			<div class="row mt">
				<p:outputPanel id="pieChart">
					<!--custom chart end-->
					<div class="border-head">
						<h2>Called Tickets</h2>
					</div>
					<p:chart type="pie" model="#{triageHistoricBean.calledPie}"
						styleClass="primefacesfont" style="height:550px;"
						responsive="true" />
				</p:outputPanel>
			</div>
			<!-- /row -->


		</div>

		<!-- /col-lg-9 END SECTION MIDDLE -->


		<!-- **********************************************************************************************************************************************************
      RIGHT SIDEBAR CONTENT
      *********************************************************************************************************************************************************** -->

		<div class="col-lg-3 ds">
			<!--COMPLETED ACTIONS DONUTS CHART-->
			<h3>TEAMS</h3>


			<h:form>
				<p:repeat id="teams" var="team" style="text-align:center;"
					value="#{teamBean.consultTeams('Team')}">
					<p:panelGrid columns="2" styleClass="removeGridBoard">
						<p:outputPanel class="desc" style="width:100%">
							<p:panelGrid>
								<p:column style="width:150px">
									<h:outputText styleClass="teamNameRightBar"
										value="#{team.teamName}" />
									<br />

									<h:outputText styleClass="temaDetailsRightBar"
										value="Team room: " />
									<h:outputText styleClass="temaDetailsRightBar"
										value="#{team.teamRoom}" />
									<br />
								</p:column>
								<p:column>
									<h:outputText styleClass="teamPriorityRightBar"
										value="Priority: " />
									<h:outputText styleClass="teamPriorityRightBar"
										value="#{team.teamPriority}" />
								</p:column>
							</p:panelGrid>
						</p:outputPanel>
					</p:panelGrid>
				</p:repeat>
			</h:form>
		</div>
		<!-- /col-lg-3 -->
	</div>
	</section> </section> </section>

	<!-- </body> -->
</ui:composition>